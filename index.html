<!DOCTYPE html>
<html lang="en" onselectstart = "return false">
<head>
    <meta charset="UTF-8">
    <meta  name="viewport" content="width=600">
    <title>2048</title>
    <style>
        *{margin: 0;padding: 0;}
        ul, li{list-style: none;}
        body{background: rgb(215, 228, 214)}
        #mian{width: 730px;height: 800px;position: absolute;left:20%;top: 0;}
        #box{width: 442px;height: 442px;position: absolute;left:0;top:100px;}
        #box p{width: 100px;height: 100px;border-bottom: 8px solid #BBADA0;border-left:8px solid #BBADA0;float: left;line-height: 100px;text-align: center;background: #CDC1B3;cursor:default;position: relative;/* box-shadow: 0 0 20px 10px #fff inset; */}
        #box li.b1 p{border-top: 8px solid #BBADA0;}
        #box li p:last-child{border-right: 8px solid #BBADA0;}
        li span{position: absolute;width: 100px;height: 100px;left: 50%;top:50%;margin-left: -50px;margin-top: -50px;overflow: hidden;background: #CDC1B3;border-radius:6px ;font-size: 40px;}
        .score{width: 260px;height: 360px;font-size: 30px;font-weight: bold;float: left;line-height: 50px;margin-left: 450px;margin-top:100px;color: #999;border: 3px solid #ccc;padding-left:8px;background: #FBF8EF}
        .score span#score{font-size: 20px;color: #fff;padding: 2px 10px;background: #5b6e5b;}
        .score span{font-size: 24px;color: #999;}
        .score p{font-size: 20px;color: #666;line-height: 30px;}
        .score #history{width: 230px;height: 290px;border: 3px solid #ccc;margin-left:3px;padding-left:10px;overflow: auto;box-shadow: 0 0 6px 6px #666 inset;}
        #remake{position: absolute;top: 480px;left:480px;outline: none;border: none;background: #ccc;border-radius: 6px;color: #000;width: 160px;height: 50px;line-height: 46px;cursor: pointer;font-size: 26px;color: #666;border: 3px solid #666;}
        #mtai{position: absolute;left:0;right: 0;top: 0;bottom: 0;z-index: 66;font-size: 24px;line-height: 442px;text-align: center;background: #fff;opacity: .5;cursor: pointer;display: none;font-style: normal;}
    </style>
</head>
<body>
    <div id="mian">
        <div id="box">
            <i id="mtai">鼠标点击继续游戏</i>
            <ul>
                <li class="b1">
                    <p><span></span></p>
                    <p><span></span></p>
                    <p><span></span></p>
                    <p><span></span></p>
                </li>
                <li>
                    <p><span></span></p>
                    <p><span></span></p>
                    <p><span></span></p>
                    <p><span></span></p>
                </li>
                <li>
                    <p><span></span></p>
                    <p><span></span></p>
                    <p><span></span></p>
                    <p><span></span></p>
                </li>
                <li>
                    <p><span></span></p>
                    <p><span></span></p>
                    <p><span></span></p>
                    <p><span></span></p>
                </li>
            </ul>
        </div>
        <div class="score">
            您的分数：<span id="score"></span>
            <div id="history">
                <span>历史纪录</span>
            </div>
        </div>
            <input type="button" value="重新开始" id="remake">
    </div>
    <script src="General.js"></script>
    <script src="Key.js"></script>
    <script src="Mouse.js"></script>
    <script>  
        var oBox=document.getElementById('box'); 
        var oMian=document.getElementById('mian'); 
        var oSpan=document.getElementById('score'); 
        var oRemake=document.getElementById('remake'); 
        var oMtai=document.getElementById('mtai'); 
        var oHis=document.getElementById('history'); 
        var rNum=0,n=-1,k=0,i=0,j=0,lose=0;
        var aBtn=new Array(4);
        aBtn=document.getElementsByTagName('li');
        for(i=0;i<aBtn.length;i++)
        {
            aBtn[i]=new Array(4);
            for(var j=0;j<4;j++)
            {
                aBtn[i][j]=aBtn[i].getElementsByTagName('span')[j];
            }
        }
        // console.log(aBtn[0].length);//undefined
        var aSpan=oBox.getElementsByTagName('span');
        var arrC=["#CDC1B3","#EEE4DA","#EDD0C8","#F2B179","#F2B179","#F67C5F","#F65E3B","#EDCF72","#EDCC61","#EDC850","#EDC53F","#EDC22E","#f00","#0f0"];
        var arrs=['2','4','2','2','2','2'];
        var key=null,num3=null,ic=1,score=0,x=0,y=0,xm=0,ym=0,ht=0;
        var a=20,ab=0,timerL=null,timerR=null,timerT=null,timerB=null,n=0;
        Start();
        for(i=0;localStorage.getItem(localStorage.key(i));i++)
        {
            ht++;
        }
        toH();
        oSpan.innerHTML=score;

        document.onkeydown=popkey;

        oRemake.onclick=Remake;

        document.onmousedown=Mdown;

        document.onmouseup=Mup;

        oMtai.onclick=Make;

        oRemake.onmousedown=function()
        {
            oRemake.style.boxShadow="0 0 3px 3px #999 inset";
        }
        oRemake.onmouseup=function()
        {
            oRemake.style.boxShadow="0 0 0 0 #999";
        }
        
    </script>
</body>
</html>